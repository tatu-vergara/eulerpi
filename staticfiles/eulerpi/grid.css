/* =========================================================
   EulerPi — Grilla con casillas (100 x 100) + Zoom
   ========================================================= */

/* Vars controladas por tu JS (applyZoom) */
:root{
  --cell: 26px;        /* tamaño de cada casilla (ancho/alto) */
  --font: 14px;        /* tamaño de fuente dentro de casillas */
  --gap:  2px;         /* separación entre casillas */
  --label-w: 128px;    /* ancho columna de etiquetas (izquierda) */

  --bg: #f6f5f2;       /* fondo de la app */
  --panel: #fafafa;    /* fondo del panel con scroll */
  --border: #e6e6e6;   /* borde de casillas */
  --gridline: #cfcfcf; /* separadores de cada 10 columnas */
  --primary: #1f6feb;  /* acento (target) */
  --hit-bg: #c6f6d5;   /* acierto */
  --hit-bd: #9ae6b4;
}

/* ---- Base ---- */
html, body { height: 100%; }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg);
  color: #222;
  padding: 2rem;
  margin: 0;
}
.wrapper{
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem;
  text-align: center;
}

.link{ display:inline-block; margin-bottom:1rem; color:#333; text-decoration:none; }
.btn{ display:inline-block; background:#00796b; color:#fff; text-decoration:none; padding:.75rem 1.1rem; border-radius:10px; margin:.4rem; }
button{ padding:.6rem 1rem; border-radius:8px; border:0; background:var(--primary); color:#fff; cursor:pointer; }

.row{ display:flex; gap:.6rem; justify-content:center; margin:.8rem 0 1.2rem; }
input[type="text"]{ font-size:1.2rem; width:90px; text-align:center; padding:.5rem; }
.result{ margin-top:.6rem; font-size:1.1rem; }
.result.ok{ color:#0a8f5b; }
.result.ko{ color:#c62828; }

.range-form{
  margin:.6rem 0 1rem; display:flex; flex-wrap:wrap; gap:.5rem;
  justify-content:center; align-items:center;
}
.range-form input{ width:120px; padding:.35rem; text-align:center; }
.range-form button{ padding:.45rem .9rem; border-radius:6px; border:0; background:var(--primary); color:#fff; cursor:pointer; }

.zoom-controls{ display:flex; gap:.5rem; align-items:center; justify-content:center; margin:.6rem 0 .4rem; }
.zoom-btn, .zoom-reset{ padding:.35rem .6rem; border:1px solid #ddd; background:#fff; border-radius:6px; cursor:pointer; }
.zoom-readout{ min-width:3.5ch; text-align:center; color:#555; }

.grid-title{ text-align:center; margin:.6rem 0; }

/* ---- Viewport (scroll) ---- */
.digits-viewport{
  max-height: 70vh;
  overflow: auto;
  border: 1px solid #ececec;
  background: var(--panel);
  padding: 6px;
  border-radius: 8px;
}
/* clave: ancho intrínseco para forzar scroll horizontal si no cabe */
.digits-inner{ width: max-content; }

/* ---- Encabezado 1..100 y filas (etiqueta + 100 casillas) ---- */
.grid-header,
.grid-row{
  display: grid;
  grid-template-columns: var(--label-w) repeat(100, var(--cell));
  gap: var(--gap);
  align-items: center;
  width: max-content; /* evita colapsar a una sola columna */
}

/* Encabezado pegajoso */
.grid-header{
  position: sticky; top: 0; z-index: 2;
  background: #f3f3f3;
  border-bottom: 1px solid #e5e5e5;
  padding-bottom: 4px;
}

.row-label-head,
.row-label,
.cell.head{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: var(--font);
  color: #666;
}
.row-label-head{ text-align:right; padding-right:6px; }

.grid-rows{ display: grid; gap: 6px; }

/* Etiqueta de fila pegajosa a la izquierda */
.row-label.sticky{
  position: sticky; left: 0; z-index: 1;
  background: linear-gradient(to right, var(--panel), var(--panel));
  border-right: 1px solid #eee;
  text-align: right; padding-right: 6px;
  white-space: nowrap;
}

/* ---- Casillas ---- */
.cell{
  width: var(--cell);
  height: var(--cell);
  display: grid; place-items: center;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: var(--font);
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 4px;
  user-select: none;
}
.cell.head{ background:#f3f3f3; border-color:#e0e0e0; }

/* Separadores verticales cada 10 columnas (usa data-col del HTML) */
.cell[data-col="10"],
.cell[data-col="20"],
.cell[data-col="30"],
.cell[data-col="40"],
.cell[data-col="50"],
.cell[data-col="60"],
.cell[data-col="70"],
.cell[data-col="80"],
.cell[data-col="90"],
.cell[data-col="100"]{
  border-right: 2px solid var(--gridline);
}

/* Estados de la casilla */
.digit.target{
  outline: 2px solid var(--primary);
  outline-offset: -2px;
  background: #eef4ff;
}
.digit.hit{
  background: var(--hit-bg);
  border-color: var(--hit-bd);
}

/* Pequeño feedback al pasar el mouse (opcional) */
.cell.digit:hover{
  background: #f7faff;
}
