/* =========================================================
   EulerPi — CSS consolidado (layout + grilla con casillas)
   ========================================================= */

/* ---------- Variables (zoom y tamaños) ---------- */
:root {
  --zoom: 1;           /* se actualiza desde JS y persiste en localStorage */
  --cell: 26px;        /* tamaño base de cada casilla (ancho/alto) */
  --font: 14px;        /* tamaño base de fuente en casillas */
  --gap: 2px;          /* separación entre casillas */
}

/* ---------- Base ---------- */
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: #f6f5f2;
  color: #222;
  padding: 2rem;
}

.wrapper {
  max-width: 1100px;      /* amplio para la grilla; la portada igual se ve ok */
  margin: 0 auto;
  padding: 1rem;
  text-align: center;
}

.link {
  display: inline-block;
  margin-bottom: 1rem;
  color: #333;
  text-decoration: none;
}

/* ---------- Botones & filas ---------- */
.btn {
  display: inline-block;
  background: #00796b;
  color: #fff;
  text-decoration: none;
  padding: .75rem 1.1rem;
  border-radius: 10px;
  margin: .4rem;
}

button {
  padding: .6rem 1rem;
  border-radius: 8px;
  border: 0;
  background: #1f6feb;
  color: #fff;
  cursor: pointer;
}

.row {
  display: flex;
  gap: .6rem;
  justify-content: center;
  margin: .8rem 0 1.2rem;
}

input[type="text"] {
  font-size: 1.2rem;
  width: 90px;
  text-align: center;
  padding: .5rem;
}

.result { margin-top: .6rem; font-size: 1.1rem; }
.result.ok { color: #0a8f5b; }
.result.ko { color: #c62828; }

/* ---------- Formulario de rango ---------- */
.range-form {
  margin: .6rem 0 1rem;
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  justify-content: center;
  align-items: center;
}
.range-form input {
  width: 120px;
  padding: .35rem;
  text-align: center;
}
.range-form button {
  padding: .45rem .9rem;
  border-radius: 6px;
  border: 0;
  background: #1f6feb;
  color: #fff;
  cursor: pointer;
}

/* ---------- Controles de zoom ---------- */
.zoom-controls {
  display: flex;
  gap: .5rem;
  align-items: center;
  justify-content: center;
  margin: .6rem 0 .4rem;
}
.zoom-btn,
.zoom-reset {
  padding: .35rem .6rem;
  border: 1px solid #ddd;
  background: #fff;
  border-radius: 6px;
  cursor: pointer;
}
.zoom-readout { min-width: 3.5ch; text-align: center; color: #555; }

/* ---------- Contenedor “viewport” con scroll ---------- */
.digits-viewport {
  max-height: 70vh;
  overflow: auto;
  border: 1px solid #ececec;
  background: #fafafa;
  padding: 6px;
  border-radius: 8px;
}

.grid-title { text-align: center; margin: .6rem 0; }

/* ---------- Encabezado (1..100) y filas de casillas ---------- */
/* 1 columna fija para etiqueta + 100 columnas de casillas */
.grid-header,
.grid-row {
  display: grid;
  grid-template-columns: 120px repeat(100, calc(var(--cell) * var(--zoom)));
  gap: calc(var(--gap) * var(--zoom));
  align-items: center;
}

/* Encabezado superior pegajoso */
.grid-header {
  position: sticky;
  top: 0;
  z-index: 2;
  background: #f3f3f3;
  border-bottom: 1px solid #e5e5e5;
  padding-bottom: 4px;
}

.row-label-head,
.row-label,
.cell.head {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: calc(12px * var(--zoom));
  color: #666;
}

.row-label-head {
  text-align: right;
  padding-right: 6px;
}

.grid-rows { display: grid; gap: 6px; }

/* Etiqueta de fila pegajosa a la izquierda */
.row-label.sticky {
  position: sticky;
  left: 0;
  z-index: 1;
  background: linear-gradient(to right, #fafafa, #fafafa);
  border-right: 1px solid #eee;
  text-align: right;
  padding-right: 6px;
  white-space: nowrap;
}

/* ---------- Casillas ---------- */
.cell {
  width: calc(var(--cell) * var(--zoom));
  height: calc(var(--cell) * var(--zoom));
  display: grid;
  place-items: center;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: calc(var(--font) * var(--zoom));
  background: #fff;
  border: 1px solid #e6e6e6;
  border-radius: 4px;
}

.cell.head { background: #f3f3f3; border-color: #e0e0e0; }

/* separadores verticales cada 10 columnas usando data-col */
.cell[data-col="10"],
.cell[data-col="20"],
.cell[data-col="30"],
.cell[data-col="40"],
.cell[data-col="50"],
.cell[data-col="60"],
.cell[data-col="70"],
.cell[data-col="80"],
.cell[data-col="90"],
.cell[data-col="100"] {
  border-right: 2px solid #cfcfcf;
}

/* dígito “normal”, “preguntado” y “acertado” */
.digit { background: #fff; }
.digit.target {
  outline: 2px solid #1f6feb;
  outline-offset: -2px;
  background: #eef4ff;
}
.digit.hit {
  background: #c6f6d5;     /* verde suave */
  border-color: #9ae6b4;
}

/* Celdas de relleno (si la última fila no llega a 100) */
.cell.filler { background: #f3f3f3; border-style: dashed; }
